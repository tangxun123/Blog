<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>DOM &quot;文档对象模型&quot; | TXBLOG</title>
    <meta name="generator" content="VuePress 1.5.2">
    
    <meta name="description" content="Vue 驱动的静态网站生成器">
    <link rel="preload" href="/assets/css/0.styles.8fbd8908.css" as="style"><link rel="preload" href="/assets/js/app.213859e3.js" as="script"><link rel="preload" href="/assets/js/2.0ccb67ff.js" as="script"><link rel="preload" href="/assets/js/7.85a0e68c.js" as="script"><link rel="prefetch" href="/assets/js/10.97bb2dd2.js"><link rel="prefetch" href="/assets/js/11.a475e894.js"><link rel="prefetch" href="/assets/js/12.5f201cef.js"><link rel="prefetch" href="/assets/js/13.a9a15bdb.js"><link rel="prefetch" href="/assets/js/14.8f213bfd.js"><link rel="prefetch" href="/assets/js/15.51d90b36.js"><link rel="prefetch" href="/assets/js/16.038b76e3.js"><link rel="prefetch" href="/assets/js/17.e6751685.js"><link rel="prefetch" href="/assets/js/18.5d4c6cd7.js"><link rel="prefetch" href="/assets/js/19.09c57f33.js"><link rel="prefetch" href="/assets/js/20.7faf16dd.js"><link rel="prefetch" href="/assets/js/21.0ac0b190.js"><link rel="prefetch" href="/assets/js/22.85df6ff3.js"><link rel="prefetch" href="/assets/js/23.6019d21f.js"><link rel="prefetch" href="/assets/js/3.979292ab.js"><link rel="prefetch" href="/assets/js/4.65624e06.js"><link rel="prefetch" href="/assets/js/5.b243963c.js"><link rel="prefetch" href="/assets/js/6.4e6628ec.js"><link rel="prefetch" href="/assets/js/8.8c5ec58a.js"><link rel="prefetch" href="/assets/js/9.759f44bc.js">
    <link rel="stylesheet" href="/assets/css/0.styles.8fbd8908.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">TXBLOG</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/SideBar/studyMenus/npm.html" class="nav-link">
  学习随笔
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Study Menu" class="dropdown-title"><span class="title">知识点</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/SideBar/Git/Git工作流程及规范.html" class="nav-link">
  Git
</a></li><li class="dropdown-item"><!----> <a href="/SideBar/DOM/DOM.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  DOM
</a></li><li class="dropdown-item"><!----> <a href="/SideBar/Vue/组件传值.html" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/SideBar/G6/G6Demo.html" class="nav-link">
  G6Demo
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/SideBar/studyMenus/npm.html" class="nav-link">
  学习随笔
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Study Menu" class="dropdown-title"><span class="title">知识点</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/SideBar/Git/Git工作流程及规范.html" class="nav-link">
  Git
</a></li><li class="dropdown-item"><!----> <a href="/SideBar/DOM/DOM.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  DOM
</a></li><li class="dropdown-item"><!----> <a href="/SideBar/Vue/组件传值.html" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/SideBar/G6/G6Demo.html" class="nav-link">
  G6Demo
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/SideBar/DOM/DOM.html" aria-current="page" class="active sidebar-link">DOM &quot;文档对象模型&quot;</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/SideBar/DOM/DOM.html#节点" class="sidebar-link">节点</a></li><li class="sidebar-sub-header"><a href="/SideBar/DOM/DOM.html#节点树" class="sidebar-link">节点树</a></li><li class="sidebar-sub-header"><a href="/SideBar/DOM/DOM.html#节点接口-node接口" class="sidebar-link">节点接口 (Node接口)</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/SideBar/DOM/DOM.html#节点属性" class="sidebar-link">节点属性</a></li><li class="sidebar-sub-header"><a href="/SideBar/DOM/DOM.html#节点方法" class="sidebar-link">节点方法</a></li></ul></li><li class="sidebar-sub-header"><a href="/SideBar/DOM/DOM.html#nodelist-接口，htmlcollection-接口" class="sidebar-link">NodeList 接口，HTMLCollection 接口</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/SideBar/DOM/DOM.html#nodelist接口" class="sidebar-link">NodeList接口</a></li><li class="sidebar-sub-header"><a href="/SideBar/DOM/DOM.html#htmlcollection-接口" class="sidebar-link">HTMLCollection 接口</a></li></ul></li><li class="sidebar-sub-header"><a href="/SideBar/DOM/DOM.html#parentnode-接口，childnode-接口" class="sidebar-link">ParentNode 接口，ChildNode 接口</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/SideBar/DOM/DOM.html#parentnode-接口" class="sidebar-link">ParentNode 接口</a></li><li class="sidebar-sub-header"><a href="/SideBar/DOM/DOM.html#childnode-接口" class="sidebar-link">ChildNode 接口</a></li></ul></li><li class="sidebar-sub-header"><a href="/SideBar/DOM/DOM.html#document-节点" class="sidebar-link">Document 节点</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/SideBar/DOM/DOM.html#属性" class="sidebar-link">属性</a></li></ul></li><li class="sidebar-sub-header"><a href="/SideBar/DOM/DOM.html#element-节点" class="sidebar-link">Element 节点</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/SideBar/DOM/DOM.html#实例属性" class="sidebar-link">实例属性</a></li><li class="sidebar-sub-header"><a href="/SideBar/DOM/DOM.html#实例方法" class="sidebar-link">实例方法</a></li></ul></li><li class="sidebar-sub-header"><a href="/SideBar/DOM/DOM.html#css-操作" class="sidebar-link">CSS 操作</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/SideBar/DOM/DOM.html#html-元素的-style-属性" class="sidebar-link">HTML 元素的 style 属性</a></li><li class="sidebar-sub-header"><a href="/SideBar/DOM/DOM.html#添加样式表" class="sidebar-link">添加样式表</a></li></ul></li><li class="sidebar-sub-header"><a href="/SideBar/DOM/DOM.html#mutation-observer-api" class="sidebar-link">Mutation Observer API</a></li></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="dom-文档对象模型"><a href="#dom-文档对象模型" class="header-anchor">#</a> DOM &quot;文档对象模型&quot;</h1> <p><strong>DOM 是 JavaScript 操作网页的接口，全称为“文档对象模型”（Document Object Model）</strong> 它的作用是将网页转为一个 JavaScript 对象，从而可以用脚本进行各种操作（比如增删内容）。DOM 操作是 JavaScript 最常见的任务，离开了 DOM，JavaScript 就无法控制网页。<strong>JavaScript 也是最常用于 DOM 操作的语言</strong>。</p> <h2 id="节点"><a href="#节点" class="header-anchor">#</a> 节点</h2> <p><strong>DOM 的最小组成单位叫做节点（node）</strong> 文档的树形结构（DOM 树），就是由各种不同类型的节点组成。每个节点可以看作是文档树的一片叶子。
<strong>节点的类型有七种</strong></p> <ol><li><code>Document</code>：整个文档树的顶层节点</li> <li><code>DocumentType</code>：<code>doctype</code>标签（比如<code>&lt;!DOCTYPE html&gt;</code>）</li> <li><code>Element</code>：网页的各种HTML标签（比如<code>&lt;body&gt;</code>、<code>&lt;a&gt;</code>等）</li> <li><code>Attr</code>：网页元素的属性（比如<code>class=&quot;box&quot;</code>）</li> <li><code>Text</code>：标签之间或标签包含的文本</li> <li><code>Comment</code>：注释</li> <li><code>DocumentFragment</code>：文档的片段</li></ol> <p>浏览器提供一个原生的节点对象Node，上面这七种节点都继承了Node，因此具有一些共同的属性和方法。</p> <h2 id="节点树"><a href="#节点树" class="header-anchor">#</a> 节点树</h2> <p>一个文档的所有节点，按照所在的层级，可以抽象成一种树状结构。这种树状结构就是 <code>DOM 树</code>。</p> <p>浏览器原生提供<code>document</code>节点，代表整个文档。</p> <p>文档的第一层有两个节点，第一个是文档类型节点（<code>&lt;!doctype html&gt;</code>），第二个是 HTML 网页的顶层容器标签<code>&lt;html&gt;</code>。后者构成了树结构的根节点（root node），其他 HTML 标签节点都是它的下级节点。</p> <p>除了根节点，其他节点都有三种层级关系。</p> <ol><li>父节点关系（<code>parentNode</code>）：直接的那个上级节点</li> <li>子节点关系（<code>childNodes</code>）：直接的下级节点</li> <li>同级节点关系（<code>sibling</code>）：拥有同一个父节点的节点</li></ol> <p>DOM 提供操作接口，用来获取这三种关系的节点</p> <ol><li>获取第一个子节点 <code>firstChild</code></li> <li>获取最后一个子节点 <code>lastChild</code></li> <li>获取紧邻在后的一个同级节点 <code>nextSibling</code></li> <li>获取紧邻在前的一个同级节点 <code>previousSibling</code></li></ol> <h2 id="节点接口-node接口"><a href="#节点接口-node接口" class="header-anchor">#</a> 节点接口 (Node接口)</h2> <h3 id="节点属性"><a href="#节点属性" class="header-anchor">#</a> 节点属性</h3> <ol><li><code>Node.prototype.nodeType</code></li></ol> <p><code>nodeType</code>属性返回一个整数值,表示节点的类型.</p> <div class="language-js extra-class"><pre class="language-js"><code>document<span class="token punctuation">.</span>nodeType <span class="token comment">// 9</span>
</code></pre></div><ol start="2"><li><code>Node.prototype.nodeName</code></li></ol> <p><code>nodeType</code>属性返回节点名称.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// &lt;div id=&quot;d1&quot;&gt;hello world&lt;/div&gt;</span>
<span class="token keyword">var</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'box'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>nodeName <span class="token comment">// &quot;DIV&quot;</span>
</code></pre></div><p>上面代码中，元素节点<code>&lt;div&gt;</code>的<code>nodeName</code>属性就是大写的标签名<code>DIV</code>。</p> <ul><li><p>2.1. 不同节点的<code>nodeName</code>属性值如下</p></li> <li><p>2.2. 文档节点（document）：<code>#document</code></p></li> <li><p>2.3. 元素节点（element）：大写的标签名,例如<code>DIV</code></p></li> <li><p>2.4. 属性节点（attr）：属性的名称</p></li> <li><p>2.5. 文本节点（text）：<code>#text</code></p></li> <li><p>2.6. 文档片断节点（DocumentFragment）：<code>#document-fragment</code></p></li> <li><p>2.7. 文档类型节点（DocumentType）：文档的类型</p></li> <li><p>2.8. 注释节点（Comment）：<code>#comment</code></p></li></ul> <ol start="3"><li><code>Node.prototype.nodeValue</code></li></ol> <p><code>nodeValue</code>属性返回一个字符串，表示当前节点本身的文本值，该属性可读写。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// &lt;div id=&quot;d1&quot;&gt;hello world&lt;/div&gt;</span>
<span class="token keyword">var</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'d1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>nodeValue <span class="token comment">// null</span>
div<span class="token punctuation">.</span>firstChild<span class="token punctuation">.</span>nodeValue <span class="token comment">// &quot;hello world&quot;</span>
</code></pre></div><ol start="4"><li><code>Node.prototype.textContent</code></li></ol> <p><code>textContent</code>属性返回当前节点和它的所有后代节点的文本内容。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// &lt;div id=&quot;box-a&quot;&gt;This is &lt;span&gt;some&lt;/span&gt; text&lt;/div&gt;</span>
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'box-a'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>textContent<span class="token punctuation">;</span>
<span class="token comment">// This is some text</span>
</code></pre></div><p>如果要读取整个文档的内容，可以使用<code>document.documentElement.textContent</code>。</p> <ol start="5"><li><code>Node.prototype.baseURI</code></li></ol> <p><code>baseURI</code>属性返回一个字符串，表示当前网页的绝对路径,浏览器根据这个属性，计算网页上的相对路径的 URL,如果无法读取网页的 URL,会返回 <code>null</code></p> <div class="language-js extra-class"><pre class="language-js"><code>document<span class="token punctuation">.</span>baseURI<span class="token punctuation">;</span> <span class="token comment">// &quot;https://wangdoc.com/javascript/dom/node.html&quot;</span>
</code></pre></div><ol start="6"><li><code>Node.prototype.nextSibling</code></li></ol> <p><code>Node.nextSibling</code>属性返回获取<code>紧邻在后</code>的一个同级节点。如果当前节点后面没有同级节点，则返回<code>null</code>。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// &lt;div id=&quot;d1&quot;&gt;hello&lt;/div&gt;&lt;div id=&quot;d2&quot;&gt;world&lt;/div&gt;</span>
<span class="token keyword">var</span> d1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'d1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> d2 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'d2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
d1<span class="token punctuation">.</span>nextSibling <span class="token operator">===</span> d2 <span class="token comment">// true</span>
</code></pre></div><ol start="7"><li><code>Node.prototype.previousSibling</code></li></ol> <p><code>Node.previousSibling</code>属性返回当前节点获取<code>紧邻在前</code>的一个同级节点。如果当前节点前面没有同级节点，则返回<code>null</code>。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// &lt;div id=&quot;d1&quot;&gt;hello&lt;/div&gt;&lt;div id=&quot;d2&quot;&gt;world&lt;/div&gt;</span>
<span class="token keyword">var</span> d1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'d1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> d2 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'d2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
d2<span class="token punctuation">.</span>previousSibling <span class="token operator">===</span> d1 <span class="token comment">// true</span>
</code></pre></div><ol start="8"><li><code>Node.prototype.parentNode</code></li></ol> <p><code>parentNode</code>属性返回当前节点的父节点。</p> <ol start="9"><li><code>Node.prototype.firstChild</code>，<code>Node.prototype.lastChild</code></li></ol> <p><code>firstChild</code>属性返回当前节点的第一个子节点，如果当前节点没有子节点，则返回null。</p> <p><code>lastChild</code>属性返回当前节点的最后一个子节点，如果当前节点没有子节点，则返回null。</p> <ol start="10"><li><code>Node.prototype.childNodes</code></li></ol> <p><code>childNodes</code>属性返回一个类似数组的对象（<code>NodeList</code>集合），成员包括当前节点的所有子节点。</p> <p>使用该属性，可以遍历某个节点的所有子节点。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'div1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> children <span class="token operator">=</span> div<span class="token punctuation">.</span>childNodes<span class="token punctuation">;</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> children<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="节点方法"><a href="#节点方法" class="header-anchor">#</a> 节点方法</h3> <ol><li><code>Node.prototype.appendChild()</code></li></ol> <p><code>appendChild()</code>方法接受一个节点对象作为参数，将其作为最后一个子节点，插入当前节点。该方法的返回值就是插入文档的子节点。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> p <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'p'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>上面代码新建一个<code>&lt;p&gt;</code>节点，将其插入<code>document.body</code>的尾部。</p> <p>如果参数节点是 DOM 已经存在的节点，<code>appendChild()</code>方法会将其从原来的位置，移动到新位置。</p> <ol start="2"><li><code>Node.prototype.hasChildNodes()</code></li></ol> <p><code>hasChildNodes()</code>方法返回一个布尔值，表示当前节点是否有子节点。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> foo <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>foo<span class="token punctuation">.</span><span class="token function">hasChildNodes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  foo<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>foo<span class="token punctuation">.</span>childNodes<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>上面代码表示，如果<code>foo</code>节点有子节点，就移除第一个子节点。</p> <ul><li>判断一个节点有没有子节点，有许多种方法，下面是其中的三种:</li> <li>2.1 <code>node.hasChildNodes()</code></li> <li>2.2 <code>node.firstChild !== null</code></li> <li>2.3 <code>node.childNodes &amp;&amp; node.childNodes.length &gt; 0</code></li></ul> <ol start="3"><li><code>Node.prototype.removeChild()</code></li></ol> <p><code>removeChild()</code>方法接受一个子节点作为参数，用于从当前节点移除该子节点。返回值是移除的子节点。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> divA <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'A'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
divA<span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>divA<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>上面代码是移除<code>divA</code>节点。注意，这个方法是在<code>divA</code>的父节点上调用的，不是在<code>divA</code>上调用的。</p> <p>面是如何移除当前节点的所有子节点。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> element <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'top'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span>element<span class="token punctuation">.</span>firstChild<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  element<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>element<span class="token punctuation">.</span>firstChild<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="4"><li><code>Node.prototype.replaceChild()</code></li></ol> <p><code>replaceChild()</code>方法用于将一个新的节点，替换当前节点的某一个子节点。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 第一个参数newChild是用来替换的新节点，第二个参数oldChild是将要替换走的子节点。返回值是替换走的那个节点oldChild。</span>
<span class="token keyword">var</span> replacedNode <span class="token operator">=</span> parentNode<span class="token punctuation">.</span><span class="token function">replaceChild</span><span class="token punctuation">(</span>newChild<span class="token punctuation">,</span> oldChild<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> divA <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'divA'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> newSpan <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'span'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
newSpan<span class="token punctuation">.</span>textContent <span class="token operator">=</span> <span class="token string">'Hello World!'</span><span class="token punctuation">;</span>
divA<span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span><span class="token function">replaceChild</span><span class="token punctuation">(</span>newSpan<span class="token punctuation">,</span> divA<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>上面代码是如何将指定节点<code>divA</code>替换走。</p> <h2 id="nodelist-接口，htmlcollection-接口"><a href="#nodelist-接口，htmlcollection-接口" class="header-anchor">#</a> NodeList 接口，HTMLCollection 接口</h2> <p>节点都是单个对象，有时需要一种数据结构，能够容纳多个节点。DOM 提供两种节点集合，用于容纳多个节点：<code>NodeList</code>和<code>HTMLCollection</code>。</p> <p>主要区别是 : <code>NodeList</code>可以包含各种类型的节点，<code>HTMLCollection</code>只能包含 HTML 元素节点。</p> <h3 id="nodelist接口"><a href="#nodelist接口" class="header-anchor">#</a> NodeList接口</h3> <p>如果<code>NodeList</code>是类数组,实例要使用数组方法，可以将其转为真正的数组。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> children <span class="token operator">=</span> document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>childNodes<span class="token punctuation">;</span>
<span class="token keyword">var</span> nodeArr <span class="token operator">=</span> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>children<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ol><li><code>NodeList.prototype.length</code></li></ol> <p><code>length</code>属性返回<code>NodeList</code>实例包含的节点数量。</p> <ol start="2"><li><code>NodeList.prototype.forEach()</code></li></ol> <p><code>forEach</code>方法用于遍历<code>NodeList</code>的所有成员。用法与数组实例的 forEach 方法完全一致。</p> <ol start="3"><li><code>NodeList.prototype.item()</code></li></ol> <p><code>item</code>方法接受一个整数值作为参数，表示成员的位置，返回该位置上的成员。</p> <div class="language-js extra-class"><pre class="language-js"><code>document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>childNodes<span class="token punctuation">.</span><span class="token function">item</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
</code></pre></div><p>上面代码中，item(0)返回第一个成员。</p> <p>如果参数值大于实际长度，或者索引不合法（比如负数），item方法返回null。如果省略参数，item方法会报错。</p> <h3 id="htmlcollection-接口"><a href="#htmlcollection-接口" class="header-anchor">#</a> HTMLCollection 接口</h3> <ul><li><code>HTMLCollection</code>是一个节点对象的集合，只能包含元素节点（<code>element</code>），不能包含其他类型的节点。
它的返回值是一个<code>类似数组的对象</code>，但是与<code>NodeList</code>接口不同，<code>HTMLCollection</code>没有<code>forEach</code>方法，只能使用<code>for</code>循环遍历。</li></ul> <ol><li><code>HTMLCollection.prototype.length</code></li></ol> <p><code>length</code>属性返回<code>HTMLCollection</code>实例包含的成员数量。</p> <ol start="2"><li><code>HTMLCollection.prototype.item()</code></li></ol> <p><code>item</code>方法接受一个整数值作为参数，表示成员的位置，返回该位置上的成员。</p> <h2 id="parentnode-接口，childnode-接口"><a href="#parentnode-接口，childnode-接口" class="header-anchor">#</a> ParentNode 接口，ChildNode 接口</h2> <h3 id="parentnode-接口"><a href="#parentnode-接口" class="header-anchor">#</a> ParentNode 接口</h3> <ol><li><code>ParentNode.children</code></li></ol> <p><code>children</code>属性返回一个<code>HTMLCollection</code>实例，成员是当前节点的所有元素子节点。该属性只读。</p> <ol start="2"><li><code>ParentNode.firstElementChild</code></li></ol> <p><code>firstElementChild</code>属性返回当前节点的第一个元素子节点。如果没有任何元素子节点，则返回 null。</p> <ol start="3"><li><code>ParentNode.lastElementChild</code></li></ol> <p><code>lastElementChild</code>属性返回当前节点的最后一个元素子节点，如果不存在任何元素子节点，则返回null。</p> <ol start="4"><li><code>ParentNode.childElementCount</code></li></ol> <p><code>childElementCount</code>属性返回一个整数，表示当前节点的所有元素子节点的数目。如果不包含任何元素子节点，则返回0。</p> <ol start="5"><li><code>ParentNode.append()</code></li></ol> <p><code>append</code>方法为当前节点追加一个或多个子节点，位置是最后一个元素子节点的后面。</p> <p>该方法不仅可以添加元素子节点，还可以添加文本子节点。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> parent <span class="token operator">=</span> document<span class="token punctuation">.</span>body<span class="token punctuation">;</span>

<span class="token comment">// 添加元素子节点</span>
<span class="token keyword">var</span> p <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'p'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
parent<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 添加文本子节点</span>
parent<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">'Hello'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 添加多个元素子节点</span>
<span class="token keyword">var</span> p1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'p'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> p2 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'p'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
parent<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>p1<span class="token punctuation">,</span> p2<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 添加元素子节点和文本子节点</span>
<span class="token keyword">var</span> p <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'p'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
parent<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">'Hello'</span><span class="token punctuation">,</span> p<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>注意，该方法没有返回值。</p> <ol start="6"><li><code>ParentNode.prepend()</code></li></ol> <p><code>prepend</code>方法为当前节点追加一个或多个子节点，位置是第一个元素子节点的前面。它的用法与<code>append</code>方法完全一致，也是没有返回值。</p> <h3 id="childnode-接口"><a href="#childnode-接口" class="header-anchor">#</a> ChildNode 接口</h3> <ol><li><code>ChildNode.remove()</code></li></ol> <p><code>remove</code>方法用于从父节点移除当前节点。</p> <ol start="2"><li><code>ChildNode.before()，ChildNode.after()</code></li></ol> <p><code>before</code>方法用于在当前节点的前面，插入一个或多个同级节点。两者拥有相同的父节点。注意，该方法不仅可以插入元素节点，还可以插入文本节点。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> p <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'p'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> p1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'p'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 插入元素节点</span>
el<span class="token punctuation">.</span><span class="token function">before</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 插入文本节点</span>
el<span class="token punctuation">.</span><span class="token function">before</span><span class="token punctuation">(</span><span class="token string">'Hello'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 插入多个元素节点</span>
el<span class="token punctuation">.</span><span class="token function">before</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span> p1<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 插入元素节点和文本节点</span>
el<span class="token punctuation">.</span><span class="token function">before</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span> <span class="token string">'Hello'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><code>after</code>方法用于在当前节点的后面，插入一个或多个同级节点，两者拥有相同的父节点。用法与<code>before</code>方法完全相同。</p> <ol start="3"><li><code>ChildNode.replaceWith()</code></li></ol> <p><code>replaceWith</code>方法使用参数节点，替换当前节点。参数可以是元素节点，也可以是文本节点。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> span <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'span'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
el<span class="token punctuation">.</span><span class="token function">replaceWith</span><span class="token punctuation">(</span>span<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>上面代码中，el节点将被span节点替换。</p> <h2 id="document-节点"><a href="#document-节点" class="header-anchor">#</a> Document 节点</h2> <ul><li><p><code>document</code>节点对象代表整个文档，每张网页都有自己的<code>document</code>对象。</p></li> <li><p><code>window.document</code>属性就指向这个对象。只要浏览器开始载入 HTML 文档，该对象就存在了，可以直接使用。</p></li> <li><p><code>document</code>对象有不同的办法可以获取:</p></li></ul> <ol><li>正常的网页，直接使用<code>document</code>或<code>window.document</code>。</li> <li><code>iframe</code>框架里面的网页，使用<code>iframe</code>节点的<code>contentDocument</code>属性。</li> <li><code>Ajax</code> 操作返回的文档，使用<code>XMLHttpRequest</code>对象的<code>responseXML</code>属性。</li> <li>内部节点的<code>ownerDocument</code>属性。</li></ol> <h3 id="属性"><a href="#属性" class="header-anchor">#</a> 属性</h3> <h4 id="快捷方式属性"><a href="#快捷方式属性" class="header-anchor">#</a> 快捷方式属性</h4> <ol><li><code>document.defaultView</code></li></ol> <p><code>document.defaultView</code>属性返回<code>document</code>对象所属的<code>window</code>对象。如果当前文档不属于<code>window</code>对象，该属性返回<code>null</code>。</p> <div class="language-js extra-class"><pre class="language-js"><code>document<span class="token punctuation">.</span>defaultView <span class="token operator">===</span> window <span class="token comment">// true</span>
</code></pre></div><ol start="2"><li><code>document.body，document.head</code></li></ol> <p><code>document.body</code>属性指向<code>&lt;body&gt;</code>节点，<code>document.head</code>属性指向<code>&lt;head&gt;</code>节点。</p> <ol start="3"><li><code>document.scrollingElement</code></li></ol> <p><code>document.scrollingElement</code>属性返回文档的滚动元素。也就是说，当文档整体滚动时，到底是哪个元素在滚动。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 页面滚动到浏览器顶部</span>
document<span class="token punctuation">.</span>scrollingElement<span class="token punctuation">.</span>scrollTop <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
</code></pre></div><ol start="4"><li><code>document.activeElement</code></li></ol> <p><code>document.activeElement</code>属性返回获得当前焦点（<code>focus</code>）的 DOM 元素。
通常，这个属性返回的是<code>&lt;input&gt;</code>、<code>&lt;textarea&gt;</code>、<code>&lt;select&gt;</code>等表单元素，如果当前没有焦点元素，返回<code>&lt;body&gt;</code>元素或<code>null</code>。</p> <h4 id="节点集合属性"><a href="#节点集合属性" class="header-anchor">#</a> 节点集合属性</h4> <ol><li><code>document.links</code></li></ol> <p><code>document.links</code>属性返回当前文档所有设定了href属性的<code>&lt;a&gt;</code>及<code>&lt;area&gt;</code>节点。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 打印文档所有的链接</span>
<span class="token keyword">var</span> links <span class="token operator">=</span> document<span class="token punctuation">.</span>links<span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> links<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>links<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="2"><li><code>document.forms</code></li></ol> <p><code>document.forms</code>属性返回所有<code>&lt;form&gt;</code>表单节点。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> selectForm <span class="token operator">=</span> document<span class="token punctuation">.</span>forms<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><p>上面代码获取文档第一个表单。</p> <p>除了使用位置序号，id属性和name属性也可以用来引用表单。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/*
    &lt;form name=&quot;foo&quot; id=&quot;bar&quot;&gt;&lt;/form&gt;
*/</span>
document<span class="token punctuation">.</span>forms<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">===</span> document<span class="token punctuation">.</span>forms<span class="token punctuation">.</span>foo <span class="token comment">// true</span>
document<span class="token punctuation">.</span>forms<span class="token punctuation">.</span>bar <span class="token operator">===</span> document<span class="token punctuation">.</span>forms<span class="token punctuation">.</span>foo <span class="token comment">// true</span>
</code></pre></div><ol start="3"><li>document.scripts</li></ol> <p><code>document.scripts</code>属性返回所有<code>&lt;script&gt;</code>节点。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> scripts <span class="token operator">=</span> document<span class="token punctuation">.</span>scripts<span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>scripts<span class="token punctuation">.</span>length <span class="token operator">!==</span> <span class="token number">0</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'当前网页有脚本'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="4"><li><code>document.styleSheets</code></li></ol> <p><code>document.styleSheets</code>属性返回文档内嵌或引入的样式表集合。</p> <h4 id="文档静态信息属性"><a href="#文档静态信息属性" class="header-anchor">#</a> 文档静态信息属性</h4> <ol><li><code>document.location</code></li></ol> <p><code>Location</code>对象是浏览器提供的原生对象，提供 URL 相关的信息和操作方法。通过<code>window.location</code>和<code>document.location</code>属性，可以拿到这个对象。</p> <h4 id="文档状态属性"><a href="#文档状态属性" class="header-anchor">#</a> 文档状态属性</h4> <ol><li><code>document.readyState</code></li></ol> <p><code>document.readyState</code>属性返回当前文档的状态，共有三种可能的值。</p> <ul><li><code>loading</code>：加载 HTML 代码阶段（尚未完成解析）</li> <li><code>interactive</code>：加载外部资源阶段</li> <li><code>complete</code>：加载完成</li></ul> <p><strong>这个属性变化的过程如下。</strong></p> <ul><li><p>1.1. 浏览器开始解析 HTML 文档，<code>document.readyState</code>属性等于<code>loading</code>。</p></li> <li><p>1.2. 浏览器遇到 HTML 文档中的<code>&lt;script&gt;</code>元素，并且没有<code>async</code>或<code>defer</code>属性，就暂停解析，
开始执行脚本，这时<code>document.readyState</code>属性还是等于<code>loading</code>。</p></li> <li><p>1.3. HTML 文档解析完成，<code>document.readyState</code>属性变成<code>interactive</code>。</p></li> <li><p>1.4. 浏览器等待图片、样式表、字体文件等外部资源加载完成，一旦全部加载完成，<code>document.readyState</code>属性变成<code>complete</code>。</p></li></ul> <p>下面的代码用来检查网页是否加载成功。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 基本检查</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>document<span class="token punctuation">.</span>readyState <span class="token operator">===</span> <span class="token string">'complete'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span>

<span class="token comment">// 轮询检查</span>
<span class="token keyword">var</span> interval <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>document<span class="token punctuation">.</span>readyState <span class="token operator">===</span> <span class="token string">'complete'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">clearInterval</span><span class="token punctuation">(</span>interval<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>另外，每次状态变化都会触发一个<code>readystatechange</code>事件。</p> <ol start="2"><li><code>document.cookie</code></li></ol> <p><code>document.cookie</code>属性用来操作浏览器 <code>Cookie</code></p> <ol start="3"><li><code>document.querySelector()</code>， <code>document.querySelectorAll()</code></li></ol> <p><code>document.querySelector()</code>方法接受一个 <code>CSS 选择器</code>作为参数，返回匹配该选择器的元素节点。
如果有多个节点满足匹配条件，则返回第一个匹配的节点。如果没有发现匹配的节点，则返回<code>null</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> el1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.myclass'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> el2 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#myParent &gt; [ng-click]'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><code>document.querySelectorAll()</code>方法与<code>querySelector</code>用法类似，区别是返回一个<code>NodeList</code>对象，包含所有匹配给定选择器的节点。</p> <ol start="4"><li><p><code>document.getElementsByTagName()</code></p></li> <li><p><code>document.getElementsByClassName()</code></p></li> <li><p><code>document.getElementsByName()</code></p></li> <li><p><code>document.getElementById()</code></p></li> <li><p><code>document.createElement()</code></p></li> <li><p><code>document.createAttribute()</code></p></li> <li><p><code>document.createEvent()</code></p></li> <li><p><code>document.addEventListener()</code>，<code>document.removeEventListener()</code>，<code>document.dispatchEvent()</code></p></li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 添加事件监听函数 </span>
<span class="token comment">// 参数三: 指定事件是否在捕获或冒泡阶段执行---- true: 事件在捕获阶段执行   false: 默认,事件句柄在冒泡阶段执行</span>
document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> listener<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 移除事件监听函数</span>
document<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> listener<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 触发事件</span>
<span class="token keyword">var</span> event <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Event</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">dispatchEvent</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="element-节点"><a href="#element-节点" class="header-anchor">#</a> Element 节点</h2> <h3 id="实例属性"><a href="#实例属性" class="header-anchor">#</a> 实例属性</h3> <ol><li><p><code>Element.attributes</code></p></li> <li><p><code>Element.className，Element.classList</code></p></li> <li><p><code>Element.dataset</code></p></li> <li><p><code>Element.innerHTML</code></p></li> <li><p><code>Element.outerHTML</code></p></li> <li><p><code>Element.clientHeight，Element.clientWidth</code></p></li> <li><p><code>Element.clientLeft，Element.clientTop</code></p></li> <li><p><code>Element.scrollHeight，Element.scrollWidth</code></p></li> <li><p><code>Element.scrollLeft，Element.scrollTop</code></p></li> <li><p><code>Element.offsetParent</code></p></li> <li><p><code>Element.offsetHeight，Element.offsetWidth</code></p></li> <li><p><code>Element.offsetLeft，Element.offsetTop</code></p></li> <li><p><code>Element.style</code></p></li> <li><p><code>Element.children，Element.childElementCount</code></p></li> <li><p><code>Element.firstElementChild，Element.lastElementChild</code></p></li> <li><p><code>Element.nextElementSibling，Element.previousElementSibling</code></p></li></ol> <h3 id="实例方法"><a href="#实例方法" class="header-anchor">#</a> 实例方法</h3> <ol><li><p><code>Element.querySelector()</code></p></li> <li><p><code>Element.querySelectorAll()</code></p></li> <li><p><code>Element.getElementsByClassName()</code></p></li> <li><p><code>Element.getElementsByTagName()</code></p></li> <li><p><code>Element.closest()</code></p></li> <li><p><code>Element.matches()</code></p></li></ol> <h4 id="事件方法"><a href="#事件方法" class="header-anchor">#</a> 事件方法</h4> <ol><li><p><code>Element.scrollIntoView()</code></p></li> <li><p><code>Element.getBoundingClientRect()</code></p></li> <li><p><code>Element.getClientRects()</code></p></li> <li><p><code>Element.insertAdjacentElement()</code></p></li> <li><p><code>Element.insertAdjacentHTML()</code>，<code>Element.insertAdjacentText()</code></p></li> <li><p><code>Element.remove()</code></p></li> <li><p><code>Element.focus()，Element.blur()</code></p></li> <li><p><code>Element.click()</code></p></li></ol> <h2 id="css-操作"><a href="#css-操作" class="header-anchor">#</a> CSS 操作</h2> <h3 id="html-元素的-style-属性"><a href="#html-元素的-style-属性" class="header-anchor">#</a> HTML 元素的 style 属性</h3> <p>操作 CSS 样式最简单的方法，就是使用网页元素节点的<code>getAttribute()</code>方法、<code>setAttribute()</code>方法和<code>removeAttribute()</code>方法，
直接读写或删除网页元素的<code>style</code>属性。</p> <div class="language-js extra-class"><pre class="language-js"><code>div<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span>
  <span class="token string">'style'</span><span class="token punctuation">,</span>
  <span class="token string">'background-color:red;'</span> <span class="token operator">+</span> <span class="token string">'border:1px solid black;'</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 相当于</span>
<span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token operator">&lt;</span>div style<span class="token operator">=</span><span class="token string">&quot;background-color:red; border:1px solid black;&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre></div><p><code>style</code>不仅可以使用字符串读写，它本身还是一个对象，部署了 <code>CSSStyleDeclaration</code> 接口（详见下面的介绍），可以直接读写个别属性。</p> <div class="language-js extra-class"><pre class="language-js"><code>e<span class="token punctuation">.</span>style<span class="token punctuation">.</span>fontSize <span class="token operator">=</span> <span class="token string">'18px'</span><span class="token punctuation">;</span>
e<span class="token punctuation">.</span>style<span class="token punctuation">.</span>color <span class="token operator">=</span> <span class="token string">'black'</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="添加样式表"><a href="#添加样式表" class="header-anchor">#</a> 添加样式表</h3> <p>网页添加样式表有两种方式。</p> <ul><li><ol><li>一种是添加一张内置样式表，即在文档中添加一个<code>&lt;style&gt;</code>节点。</li></ol></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 写法一</span>
<span class="token keyword">var</span> style <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'style'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
style<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'media'</span><span class="token punctuation">,</span> <span class="token string">'screen'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
style<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">'body{color:red}'</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span>head<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>style<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 写法二</span>
<span class="token keyword">var</span> style <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> style <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'style'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span>head<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>style<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> style<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
style<span class="token punctuation">.</span>sheet<span class="token punctuation">.</span><span class="token function">insertRule</span><span class="token punctuation">(</span><span class="token string">'.foo{color:red;}'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li><ol start="2"><li>另一种是添加外部样式表，即在文档中添加一个<code>&lt;link&gt;</code>节点，然后将href属性指向外部样式表的 <code>URL</code>。</li></ol></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> linkElm <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'link'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
linkElm<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'rel'</span><span class="token punctuation">,</span> <span class="token string">'stylesheet'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
linkElm<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'type'</span><span class="token punctuation">,</span> <span class="token string">'text/css'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
linkElm<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'href'</span><span class="token punctuation">,</span> <span class="token string">'reset-min.css'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

document<span class="token punctuation">.</span>head<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>linkElm<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="mutation-observer-api"><a href="#mutation-observer-api" class="header-anchor">#</a> Mutation Observer API</h2> <p><code>Mutation Observer API</code> 用来监视 <code>DOM 变动</code>。
DOM 的任何变动，比如<code>节点的增减</code>、<code>属性的变动</code>、文本内容的变动`，这个 API 都可以得到通知。</p> <p>概念上，它很接近事件，可以理解为 <code>DOM 发生变动</code>就会触发 <code>Mutation Observer</code> 事件。
但是，它与事件有一个本质不同：<code>事件是同步触发</code>，也就是说，DOM 的变动立刻会触发相应的事件；<code>Mutation Observer 则是异步触发</code>，
DOM 的变动并不会马上触发，而是要<code>等到当前所有 DOM 操作都结束才触发</code>。</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">7/17/2020, 3:29:17 PM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.213859e3.js" defer></script><script src="/assets/js/2.0ccb67ff.js" defer></script><script src="/assets/js/7.85a0e68c.js" defer></script>
  </body>
</html>
